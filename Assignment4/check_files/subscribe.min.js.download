define(["jquery","jquery/ui"],function($){"use strict";function main(config,element){var $element=$(element);var $error=$("#subscribe-error");var $success=$("#subscribe-success");var AjaxUrl=config.AjaxUrl;var dataForm=$('#newsletter-form');dataForm.mage('validation',{});$(document).ready(function(){$('#btnSubscribe').prop('disabled',false);});$(document).on('click','#btnSubscribe',function(e){e.preventDefault();if($("#chkAccept").is(":checked")&&$("#email").val()!=""){$("#checkbox-error").hide();if(dataForm.valid()){var param=dataForm.serialize();$(".mage-error").hide();$.ajax({url:AjaxUrl,data:param,type:"POST",dataType:'json'}).done(function(data){if(data.error){$error.html(data.message);$error.show();}else{$success.html(data.message);$success.show();document.getElementById("newsletter-form").reset()}
return true;});}}
else{$("#checkbox-error").show();if($("#email").val()==""){$("#email-error").show();}
if($("#chkAccept").is(":checked")){$("#checkbox-error").hide();}}});};return main;});